"0",""
"0",""
"0","#####"
"0","# IMF Data"
"0","#####"
"0",""
"0","#use alternative data source provided by the IMF"
"0",""
"0","#read in data from IMF"
"0","D5.2.9.FSI.IMF <-   read_excel(path=paste(raw_dir, ""5.2_DISM"",""2020.11.04_Compiled Data for World Bank.xlsx"", sep=""/"" ),"
"0","                               sheet =""FSI Annual"","
"0","                               skip=1"
"0","                               ) %>%"
"0","  as_tibble(.name_repair='universal') %>%  "
"0","  rename("
"0","    IMF_code=Code,"
"0","    IMF_country=Country,"
"0","  ) %>%"
"0","  mutate(SPI.D5.2.9.FSI.IMF=case_when("
"0","    Financial.Soundness.Indicators..Core.Set..Deposit.Takers..Asset.Quality..Non.performing.Loans.to.Total.Gross.Loans..Percent==2019 ~ 1, "
"0","    Financial.Soundness.Indicators..Core.Set..Deposit.Takers..Asset.Quality..Non.performing.Loans.to.Total.Gross.Loans..Percent==2018 ~ 0.5, "
"0","    TRUE ~ 0 "
"0","  ),"
"0","  RAW.D5.2.9.FSI.IMF=Financial.Soundness.Indicators..Core.Set..Deposit.Takers..Asset.Quality..Non.performing.Loans.to.Total.Gross.Loans..Percent) %>%"
"0","  mutate(IMF_code=as.numeric(IMF_code)) %>%"
"0","  left_join(imf_codes) %>%"
"0","  select(iso3c, RAW.D5.2.9.FSI.IMF,SPI.D5.2.9.FSI.IMF ) %>%"
"0","  mutate(date=2019)"
"0","  "
"0","  "
"0","D5.2.9.FSI <-  D5.2.9.FSI.IMF %>%"
"0","  mutate(SPI.D5.2.9.FSI=SPI.D5.2.9.FSI.IMF) %>% #fill in with IMF data if missing.  This applies mostly to high income countries"
"0","  select(-SPI.D5.2.9.FSI.IMF) %>%"
"0","  arrange(date, iso3c)"
"0",""
"0",""
