"0","  "
"0","  graph_df2<-  wbstats::wb_data(country=""countries_only"", "
"0","              indicator='NY.GDP.PCAP.KD',"
"0","              cache=cache_list,"
"0","              start_date=2016,"
"0","              end_date=2019,"
"0","              return_wide = F)  %>%"
"0","  left_join(spi_index_df) %>%"
"0","  left_join(pop)"
"2","Joining, by = c(""iso3c"", ""country"", ""date"")
"
"2","Joining, by = c(""iso2c"", ""iso3c"", ""country"", ""date"", ""population"")
"
"0","  "
"0","  gdp_spi <- ggplot(data=graph_df2, aes(y=value, x=100*SPI.INDEX)) +"
"0","  facet_wrap(~indicator,"
"0","             scales='free_y') +"
"0","  geom_point() +"
"0","  geom_text(aes(label=country), position=position_jitter(width=1,height=1), check_overlap=T) +"
"0","  geom_smooth(method='lm') +"
"0","  theme_bw() + "
"0","  scale_y_log10(labels = scales::comma) +"
"0","  xlab('SPI Index') +"
"0","  ylab('GDP per capita') +"
"0","  stat_poly_eq(aes(label = paste(..eq.label.., ..rr.label.., sep = ""~~~"")), "
"0","                     label.x.npc = ""right"", label.y.npc = 0.1,"
"0","                     formula = 'y~x', parse = TRUE, size = 4)"
"0","  "
"0","gdp_spi"
