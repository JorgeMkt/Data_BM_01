"0",""
"0","##########"
"0","# Pull for UIS UNESCO"
"0","##########"
"0",""
"0","#national assessments"
"0","natl_assess_df <- read_csv(paste(dir, ""Data/D2. CS/UIS/"","
"0","                                 ""4.1.2 Administration of a nationally-representative learning assessment (a) in Grade 2 or 3; (b) at the end of primary education; and (c) at the end of lower secondary education.csv"","
"0","                                 sep="""")) %>%"
"0","  filter(SDG_IND %in% c(""ADMI_ENDOFPRIM_READ"",""ADMI_GRADE2OR3PRIM_READ""))"
"0",""
"0","#out of school"
"0","oos_df <- read_csv(paste(dir, ""Data/D2. CS/UIS/"","
"0","                                 ""4.1.5 Out-of-school rate by school age and sex (administrative data).csv"","
"0","                                 sep=""""))"
"0",""
"0","#Pre-K"
"0","prek_df <- read_csv(paste(dir, ""Data/D2. CS/UIS/"","
"0","                                 ""4.2.2 Participation rate in organized learning (one year before the official primary entry age), by sex (administrative data).csv"","
"0","                                 sep=""""))"
"0",""
"0",""
"0","uis_mapper <- function(dtaset,title_text) {"
"0","  "
"0",""
"0","  uis_map <- get(dtaset) %>%"
"0","    group_by( LOCATION2017) %>%"
"0","    summarise(Value=mean(Value, na.rm=T)) %>%"
"0","    rename(iso3c=LOCATION2017) %>%"
"0","    right_join(country_metadata) %>%"
"0","    mutate(available=(!is.na(Value))"
"0","           ) "
"0","  "
"0","  "
"0","  "
"0","   ggplot() +"
"0","    geom_map(data = uis_map, aes(map_id = iso3c, fill = available), map = maps$countries) + "
"0","    geom_polygon(data = maps$disputed, aes(long, lat, group = group, map_id = id), fill = ""grey80"") + "
"0","    geom_polygon(data = maps$lakes, aes(long, lat, group = group), fill = ""white"")  +"
"0","     geom_path(data = maps$boundaries,"
"0","               aes(long, lat, group = group),"
"0","               color = ""white"","
"0","               size = 0.1,"
"0","               lineend = maps$boundaries$lineend,"
"0","              linetype = maps$boundaries$linetype) +"
"0","    scale_x_continuous(expand = c(0, 0), limits = standard_crop_wintri()$xlim) +"
"0","    scale_y_continuous(expand = c(0, 0), limits = standard_crop_wintri()$ylim) +"
"0","    scale_fill_brewer("
"0","      name='Available',"
"0","      palette='Paired',"
"0","      na.value='red'"
"0","    ) +"
"0","    coord_equal() +"
"0","    theme_map(base_size=12) +"
"0","    labs("
"0","      title=str_wrap(title_text,100),"
"0","      caption = 'Source: UNESCO UIS'"
"0","    )"
"0",""
"0",""
"0","}"
"0",""
"0","uis_mapper('natl_assess_df', 'Administration of a National Learning Assessment in Reading at in Grade 2 or 3; or at the end of primary education in 2018')"
