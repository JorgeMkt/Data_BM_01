"0",""
"0","gdp_reg_df <- wbstats::wb_data("
"0","  indicator='NY.GDP.PCAP.KD',"
"0","  start_date=2016,"
"0","  end_date=2019"
"0","    ) %>%"
"0","  mutate(log_gdp_pcap=log(NY.GDP.PCAP.KD)) %>%"
"0","  left_join(select(comparison_df,iso3c,date, region,SPI.INDEX,SCI,ODIN_score,SPI_v0)) #merge on SPI Index data"
"0","  "
"0","  "
"0","#regress Log GDP SPI"
"0","m_spi <- lm_robust(SPI.INDEX ~ log_gdp_pcap + factor(date), data = gdp_reg_df, se_type = ""HC2"") "
"0","#regress Log GDP SCI"
"0","m_sci <- lm_robust(SCI ~ log_gdp_pcap + factor(date), data = gdp_reg_df, se_type = ""HC2"") "
"0",""
"0",""
"0","#regress Log GDP ODIN"
"0","m_odin <- lm_robust(ODIN_score ~ log_gdp_pcap + factor(date), data = gdp_reg_df, se_type = ""HC2"") "
"0",""
"0",""
"0","#regress Log GDP SPI_v0"
"0","m_spi_v0 <- lm_robust(SPI_v0 ~ log_gdp_pcap + factor(date), data = gdp_reg_df, se_type = ""HC2"") "
"0",""
"0","#combine SPI and SCI results together"
"0","date_names <- grep(""factor"", names(coef(m_spi)), value = TRUE)"
"0","names(date_names) <- gsub("".*)(.)"", ""Year: \\1"", date_names)"
"0",""
"0","huxtable::huxreg('SPI Index'=m_spi, 'SCI'=m_sci, 'Open Data Watch'=m_odin, 'SPI Version 0'=m_spi_v0,"
"0","       coefs=c('Log GDP per Capita'='log_gdp_pcap', date_names, 'Intercept'='(Intercept)'),"
"0","       note='{stars}. Heteroskedasticity Robust Std Errors in Parenthesis',"
"0","       number_format=2,"
"0","       bold_signif=0.05) %>%"
"0","  huxtable::set_caption('Linear Regressions of Alternate Statistical Performance Indices on Log GDP per Capita') %>%"
"0","  huxtable::as_flextable() %>%"
"0","  FitFlextableToPage() %>%"
"0","  width(width=1.2)"
