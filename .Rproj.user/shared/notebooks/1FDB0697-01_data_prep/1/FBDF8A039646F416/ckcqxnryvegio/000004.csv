"0",""
"0","# This block of code will create a blank SPI dataset (only containing country info) that will be appended to when each indicator is added."
"0","# There will be two indicators added for each dimension"
"0","# 1. An indicator with a score between 0-1 for each dimension"
"0","# 2. An indicator with the raw (unscored) values of the indicators"
"0","# The unit for this database will be country*year"
"0",""
"0","span <- c(2004:2020)"
"0",""
"0","country_metadata <- wbstats::wbcountries()"
"0",""
"0",""
"0","spi_df_empty <- bind_rows(replicate(length(span), country_metadata, simplify = FALSE), .id='date') %>%"
"0","  mutate(date=as.numeric(date)+span[1]-1) %>%"
"0","  filter(region!=""Aggregates"") # take out the aggregates (LAC, SAR, etc)"
"0",""
"0","spi_df <- spi_df_empty"
"0",""
