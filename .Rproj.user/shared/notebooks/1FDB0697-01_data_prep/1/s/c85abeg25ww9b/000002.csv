"0",""
"0","  #read in ODIN data"
"0","  for (i in 2015:2018) {"
"0","   temp <- read_csv(paste(raw_dir, '/2.2_DSOA/','ODIN_',i,'.csv', sep=""""))  %>%"
"0","        as_tibble(.name_repair = 'universal') %>%"
"0","        mutate(date=i) %>%"
"0","        filter(Data.categories=='All Categories')"
"0",""
"0",""
"0","    assign(paste('odin_df',i,sep=""_""), temp)"
"0","  }"
"0",""
"0","#bind different years together"
"0","odin_df <- bind_rows(odin_df_2015, odin_df_2016, odin_df_2017, odin_df_2018)"
"0",""
"0",""
"0","odin_df <- odin_df %>%"
"0","    select(Country.Code, date, Overall.score) %>%"
"0","    rename(iso3c=Country.Code,"
"0","           ODIN_score=Overall.score) %>%"
"0","    group_by(date) %>%"
"0","    arrange(-ODIN_score) %>%"
"0","    mutate(ODIN_rank=rank(-ODIN_score, na.last='NA')) %>% "
"0","  right_join(spi_df_empty) %>%"
"0","  arrange(country, date) %>%"
"0","  group_by(country) %>%"
"0","  mutate(across(starts_with(""ODIN""), na.locf, na.rm=FALSE)) %>%"
"0","  select(country, date, starts_with(""ODIN""))"
"0",""
"0",""
"0",""
