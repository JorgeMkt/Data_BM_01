"0",""
"0","#read data"
"0","unesco_df_raw <- read_csv(paste(raw_dir, '4.2_SOAD','unesco_admin_sources.csv', sep=""/""))"
"0",""
"0","#cleaning of aspire data"
"0","unesco_df <- unesco_df_raw %>%"
"0","    mutate(date=TIME) %>%"
"0","    group_by( LOCATION2017, date) %>%"
"0","    summarise(Value=mean(Value, na.rm=T)) %>%"
"0","    rename(iso3c=LOCATION2017) %>%"
"0","    left_join(country_metadata) %>%"
"0","    mutate(edu_admin_available=(!is.na(Value))"
"0","           ) %>%"
"0","    mutate(SPI.D4.2.2.EDU=as.numeric(edu_admin_available),"
"0","           RAW.D4.2.2.EDU=edu_admin_available) %>%"
"0","  select(c('iso3c', 'country', 'date', 'RAW.D4.2.2.EDU', 'SPI.D4.2.2.EDU')  )"
"0",""
"0","#add to spi databases"
"0","spi_df <- spi_df %>%"
"0","  left_join(unesco_df)"
"0",""
"0","unesco_map <- unesco_df %>%"
"0","  filter(RAW.D4.2.2.EDU==TRUE)"
"0","  "
"0",""
"0","spi_mapper('unesco_map', 'RAW.D4.2.2.EDU', 'Education Administrative Data Available According to UIS' )"
