"0",""
"0","  #read in ODIN data"
"0","  for (i in 2015:2018) {"
"0","   temp <- read_csv(paste(raw_dir, '/2.2_DSOA/','ODIN_',i,'.csv', sep=""""))  %>%"
"0","        as_tibble(.name_repair = 'universal') %>%"
"0","        mutate(date=i) %>%"
"0","        filter(Data.categories=='All Categories')"
"0",""
"0",""
"0","    assign(paste('openness_df',i,sep=""_""), temp)"
"0","  }"
"0",""
"0","#bind different years together"
"0","openness_df <- bind_rows(openness_df_2015, openness_df_2016, openness_df_2017, openness_df_2018)"
"0",""
"0",""
"0","openness_df <- openness_df %>%"
"0","    select(Country.Code, date, Machine.readable, Non.proprietary, Download.options, Metadata.available, Terms.of.use, Openness.subscore) %>%"
"0","    rename(iso3c=Country.Code) %>%"
"0","    group_by( iso3c) %>%"
"0","    right_join(country_metadata) %>%"
"0","    mutate("
"0","      across(c('Machine.readable', 'Non.proprietary', 'Download.options', 'Metadata.available', 'Terms.of.use', 'Openness.subscore'),~if_else(is.na(.), 0, .)           )"
"0","      "
"0","           )  "
"0",""
"0","#add to spi dataframe"
"0","spi_df <- spi_df %>%"
"0","  left_join(openness_df)"
"0",""
"0",""
"0",""
"0",""
